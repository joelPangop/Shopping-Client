<ion-header>
    <div style="font-size: 80%">
        <ion-grid style="background-color: #3880ff">
            <ion-row>
                <ion-col size="3">
                    <ion-label>Welcome to eGoal</ion-label>
                </ion-col>
                <ion-col size="2"></ion-col>
                <ion-col size="2">
                    <ion-tab-button tab="schedule">
                        <ion-icon name="notifications">
                        </ion-icon>
                        <ion-badge color="danger">5</ion-badge>
                    </ion-tab-button>
                </ion-col>
                <ion-col size="5">
                    <ion-row>
                        <ion-col color="primary">Store</ion-col>
                        <ion-col>Newsletter</ion-col>
                        <ion-col>FAQ</ion-col>
                        <ion-col>
                            <ion-label button (click)="showOptions($event, 'language')">En</ion-label>
                        </ion-col>
                        <ion-col>
                            <ion-label button (click)="showOptions($event, 'currency')">CAD</ion-label>
                        </ion-col>
                    </ion-row>
                </ion-col>
            </ion-row>
        </ion-grid>
    </div>
</ion-header>
<ion-header>
    <ion-toolbar color="primary">
        <!--        <ion-menu-button slot="start"></ion-menu-button>-->
        <ion-buttons slot=start>
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>
            <ion-icon id="titleId" src="assets/e-com-img.svg"></ion-icon>
        </ion-title>
        <ion-buttons slot="end">
            <ion-fab-button (click)="openCart()" #cart color="primary-shade">
                <div *ngIf="cartItemCount.value > 0" class="cart-length"
                     style="color: brown">{{cartItemCount | async}}</div>
                <ion-icon name="cart" class="cart-icon"></ion-icon>
            </ion-fab-button>
        </ion-buttons>
    </ion-toolbar>
    <ion-toolbar color="primary">
        <ion-searchbar showCancelButton="focus" animated (ionInput)="onSearch($event)"
                       (ionCancel)="onCancel($event)"></ion-searchbar>
    </ion-toolbar>
</ion-header>

<ion-content>
    <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
        <ion-refresher-content
                pullingIcon="arrow-dropdown"
                pullingText="Pull to refresh"
                refreshingSpinner="circles"
                refreshingText="Loading...">
        </ion-refresher-content>
    </ion-refresher>

    <ion-virtual-scroll [items]="articles" approxItemHeight="82px">
        <ion-item *virtualItem="let article" (click)="showDetails(article._id)" button>
            <ion-thumbnail (click)="showImage(article.pictures[0], article.title, $event)">
                <ion-img
                        src="http://192.168.2.58:4000/image/{{article.pictures[0]}}"></ion-img>
            </ion-thumbnail>
            <ion-label>
                <h2 class="my-label-title">{{article.title}}</h2>
                <p color="medium">{{article.description}}</p>
                <div class="span-container">
                    <span class="price">{{article.price | currency}}</span>
                    <span *ngIf="article.averageStar >= 1">
                      <ion-icon class="iconStar" name="star"></ion-icon>
                </span>
                    <span *ngIf="article.averageStar >= 2">
                      <ion-icon class="iconStar" name="star"></ion-icon>
                </span>
                    <span *ngIf="article.averageStar >= 3">
                      <ion-icon class="iconStar" name="star"></ion-icon>
                </span>
                    <span *ngIf="article.averageStar >= 4">
                      <ion-icon class="iconStar" name="star"></ion-icon>
                </span>
                    <span *ngIf="article.averageStar >= 5">
                      <ion-icon class="iconStar" name="star"></ion-icon>
                </span>
                </div>
            </ion-label>
        </ion-item>
    </ion-virtual-scroll>
</ion-content>
<ion-footer>
    <ion-toolbar>
        <ion-button (click)="goToCreate()">Vendre</ion-button>
    </ion-toolbar>
</ion-footer>
